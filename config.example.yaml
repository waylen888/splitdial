# Splitdial Proxy Configuration Example
# Copy this file to config.yaml and modify as needed

server:
  socks_addr: "127.0.0.1:1080"
  http_addr: "127.0.0.1:8080"
  api_addr: "127.0.0.1:8081"

# Network Interface Configuration
# You can identify interfaces in two ways:
#
# Option 1: Use hardware_port (RECOMMENDED)
# - More stable - survives reboots and device reconnections
# - Find your hardware ports by running: networksetup -listallhardwareports
#
# Option 2: Use device name directly
# - Simpler, but may change after reboot (especially for USB adapters)
#
# Examples:
#   cable:
#     hardware_port: "USB 10/100/1000 LAN"  # Stable
#   wifi:
#     hardware_port: "Wi-Fi"
#
#   # Or use device names directly:
#   cable:
#     device: "en7"
#   wifi:
#     device: "en0"

interfaces:
  cable:
    hardware_port: "Ethernet"    # Or "USB 10/100/1000 LAN" for USB adapters
  wifi:
    hardware_port: "Wi-Fi"

logging:
  level: "info"           # debug, info, warn, error
  format: "text"          # text, json
  output: "stdout"        # stdout, stderr, or file path like "logs/proxy.log"
  # File rotation settings (only used when output is a file path)
  max_size: 100           # Max file size in MB before rotation
  max_backups: 3          # Number of old log files to retain
  max_age: 28             # Days to retain old log files
  compress: true          # Compress rotated files

routes:
  # Example: Route streaming services via Wi-Fi
  - id: "streaming"
    name: "Streaming Services"
    match:
      domains:
        - "*.netflix.com"
        - "*.youtube.com"
        - "*.twitch.tv"
    interface: "wifi"
    enabled: false

  # Example: Route specific IP via Wi-Fi
  - id: "custom-ip"
    name: "Custom IP Route"
    match:
      ips:
        - "192.168.1.100"
    interface: "wifi"
    enabled: false

  # Example: Route work services via cable
  - id: "work"
    name: "Work Services"
    match:
      domains:
        - "*.github.com"
        - "*.amazonaws.com"
    interface: "cable"
    enabled: true

  # Default route - catch all traffic
  - id: "default"
    name: "Default Route"
    match: {}
    interface: "cable"
    enabled: true
